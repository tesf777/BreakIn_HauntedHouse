
### 问题一：鬼屋内部没有墙壁，设计行动规则，并给出机器人成功到达出口过程的路线

行动规则：


定义：
	探索集：记录走过的单元
	安全集：定义已知安全的单元
	危险集：定义已知危险的单元
	行动集：机器人四邻域-危险集-探索集 得到
	命题列表：装载命题的列表
	命题：{8邻域或者4邻域}=幽灵数量
	启发式函数：优先选择行动集里面与出口曼哈顿距离最小的单元格



机器人一开始在(1,1)创建，将(1,1)作为元素加入探索集。
我使用了随机函数生成幽灵以及他们的方向为(flag=0，左或者下；flag=1，右或者上)
假设幽灵在(4,1)向上移动,(2,4)向右移动
![[Pasted image 20221015204251.png]]
此时已知机器人邻域为：(1,2),(2,1),(2,2)
感知环节：
	经过寒意浓度感知h(1,1)=0
	得到命题{(1,2),(2,1),(2,2)}=0 加入命题列表
推断环节：
	安全集加入{(1,2),(2,1),(2,2)}
	危险集不变
	行动集加入 {(1,2),(2,1)}
行动环节：
	安全移动，行动集如果与安全集有交集
	随机移动，行动集与安全集没有交集，说明安全性未知，冒险向出口行动
	这里有交集，进行安全移动
这里随机选择(2,1)
并将他添加到探索集

	探索集：{(1,1),(2,1)}
	安全集：{(1,1),(2,1),(2,2)}
	危险集：{}
	行动集：{(1,2),(2,1)}
	命题列表：[{(1,2),(2,1),(2,2)}=0]
-------------------

![[Pasted image 20221015212527.png]]
此时已知机器人八邻域为：(1,1),(2,1),(2,2),(3,2),(3,1)
四邻域:(1,1),(2,2),(3,1)
感知环节：
	经过寒意浓度感知h(2,1)=0
	得到命题{(1,1),(1,2),(2,2),(3,2),(3,1)}=0 加入命题列表
推断环节：
	安全集加入{(1,1),(2,1),(2,2),(3,2),(3,1)} 因为是集合，多余的不会重复添加
	危险集不变
	行动集加入 {(2,2),(3,1)}
行动环节：
	安全移动，行动集如果与安全集有交集
	随机移动，行动集与安全集没有交集，说明安全性未知，冒险向出口行动
	这里有交集，进行安全移动
这里随机选择(3,1)
并将他添加到探索集

	探索集：{(1,1),(2,1),(3,1)}
	安全集：{(1,1),(2,1),(2,2),(3,2),(3,1)}
	危险集：{}
	行动集：{(2,2),(3,1)}
	命题列表：[{(1,2),(2,1),(2,2)}=0,{(1,1),(1,2),(2,2),(3,2),(3,1)}=0]
	化简后为：[{(1,1),(2,1),(1,2),(2,2),(3,2),(3,1)}=0]

----

![[Pasted image 20221015213009.png]]
此时已知机器人八邻域为：(2,1),(2,2),(3,2),(4,2),(4,1)
四邻域:(2,1),(3,2),(4,1)
感知环节：
	经过寒意浓度感知h(3,1)=0
	得到命题{(2,1),(2,2),(3,2),(4,2),(4,1)}=0 加入命题列表
推断环节：
	安全集加入{(2,1),(2,2),(3,2),(4,2),(4,1)} 因为是集合，多余的不会重复添加
	危险集不变
	行动集加入 {(3,2),(4,1)}
行动环节：
	安全移动，行动集如果与安全集有交集
	随机移动，行动集与安全集没有交集，说明安全性未知，冒险向出口行动
	这里有交集，进行安全移动
这里随机选择(4,1)
并将他添加到探索集

	探索集：{(1,1),(2,1),(3,1),(4,1)}
	安全集：{(1,1),(2,1),(2,2),(3,2),(3,1),(4,2),(4,1)}
	危险集：{}
	行动集：{(3,2),(4,1)}
	命题列表：[{(1,2),(2,1),(2,2)}=0,{(1,1),(1,2),(2,2),(3,2),(3,1)}=0,
	{(2,1),(2,2),(3,2),(4,2),(4,1)}=0]
	化简后为：[{(1,1),(2,1),(1,2),(2,2),(3,2),(3,1),(4,2),(4,1)}=0]

-----

![[Pasted image 20221015213231.png]]
此时已知机器人八邻域为：(3,1),(3,2),(4,2),(5,2),(5,1)
四邻域:(3,1),(4,2),(5,1)
感知环节：
	经过寒意浓度感知h(4,1)=0
	得到命题{(3,1),(3,2),(4,2),(5,2),(5,1)}=0 加入命题列表
推断环节：
	安全集加入{(3,1),(3,2),(4,2),(5,2),(5,1)} 因为是集合，多余的不会重复添加
	危险集不变
	行动集加入 {(4,2),(5,1)}
行动环节：
	安全移动，行动集如果与安全集有交集
	随机移动，行动集与安全集没有交集，说明安全性未知，冒险向出口行动
	这里有交集，进行安全移动
这里随机选择(4,2)
并将他添加到探索集

	探索集：{(1,1),(2,1),(3,1),(4,1),(4,2)}
	安全集：{(1,1),(2,1),(2,2),(3,2),(3,1),(4,2),(4,1),(5,2),(5,1)}
	危险集：{}
	行动集：{(4,2),(5,1)}
	命题列表：[{(1,2),(2,1),(2,2)}=0,{(1,1),(1,2),(2,2),(3,2),(3,1)}=0,
	{(2,1),(2,2),(3,2),(4,2),(4,1)}=0,{(3,1),(3,2),(4,2),(5,2),(5,1)}=0]
	化简后为：[{(1,1),(2,1),(1,2),(2,2),(3,2),(3,1),(4,2),(4,1),(5,2),(5,1)}=0]

---

![[Pasted image 20221015213358.png]]
此时已知机器人八邻域为：(3,2),(3,3),(4,3),(5,3),(5,2),(5,1),(4,1),(3,1)
四邻域:(3,2),(4,3),(5,2),(4,1)
感知环节：
	经过寒意浓度感知h(4,2)=0
	得到命题{(3,2),(3,3),(4,3),(5,3),(5,2),(5,1),(4,1),(3,1)}=0 加入命题表
	
推断环节：
	安全集加入{(3,2),(3,3),(4,3),(5,3),(5,2),(5,1),(4,1),(3,1)} 
	因为是集合，多余的不会重复添加
	危险集不变
	行动集加入 {(3,2),(4,3),(5,2)}
行动环节：
	安全移动，行动集如果与安全集有交集
	随机移动，行动集与安全集没有交集，说明安全性未知，冒险向出口行动
	这里有交集，进行安全移动
这里随机选择(5,2)
并将他添加到探索集

	探索集：{(1,1),(2,1),(3,1),(4,1),(4,2),(5,2)}
	安全集：{(1,1),(2,1),(2,2),(3,2),(3,1),(4,2),(4,1),(5,2),(5,1),(5,3)}
	危险集：{}
	行动集：{(3,2),(4,3),(5,2)}
	命题列表：[{(1,2),(2,1),(2,2)}=0,{(1,1),(1,2),(2,2),(3,2),(3,1)}=0,
	{(2,1),(2,2),(3,2),(4,2),(4,1)}=0,{(3,1),(3,2),(4,2),(5,2),(5,1)}=0,
	{(3,2),(3,3),(4,3),(5,3),(5,2),(5,1),(4,1),(3,1)}=0]
	化简后为：[{(1,1),(2,1),(1,2),(2,2),(3,2),(3,1),(4,2),(4,1),(5,2),(5,1),(5,3)}=0]

---

![[Pasted image 20221015213741.png]]
此时已知机器人八邻域为：(4,2),(4,3),(5,3),(6,3),(6,2),(6,1),(5,1),(4,1)
四邻域:(4,2),(5,3),(6,2),(5,1)
感知环节：
	经过寒意浓度感知h(5,2)=1
	得到命题{(4,3),(6,3),(6,1),(4,1),(5,4),(3,2)}=1 加入命题表
	
推断环节：
	安全集加入{(6,2),(5,1)} 
	因为是集合，多余的不会重复添加
	危险集 加入 {(4,3),(6,3),(6,1),(4,1),(5,4),(3,2),(5,3),(4,2)}
	行动集加入 {(5,1),(6,2)}
行动环节：
	安全移动，行动集如果与安全集有交集
	随机移动，行动集与安全集没有交集，说明安全性未知，冒险向出口行动
	这里有交集，进行安全移动
这里随机选择(6,2)
并将他添加到探索集

	探索集：{(1,1),(2,1),(3,1),(4,1),(4,2),(5,2),(6,2)}
	安全集：{(1,1),(2,1),(2,2),(3,2),(3,1),(4,2),(4,1),(5,2),(5,1),(5,3),(6,2),(5,1)}
	危险集：{(4,3),(6,3),(6,1),(4,1),(5,4),(3,2),(5,3),(4,2)}
	行动集：{(5,1),(6,2)}
	命题列表：[{(1,2),(2,1),(2,2)}=0,{(1,1),(1,2),(2,2),(3,2),(3,1)}=0,
	{(2,1),(2,2),(3,2),(4,2),(4,1)}=0,{(3,1),(3,2),(4,2),(5,2),(5,1)}=0,
	{(3,2),(3,3),(4,3),(5,3),(5,2),(5,1),(4,1),(3,1)}=0,
	{(4,3),(6,3),(6,1),(4,1),(5,4),(3,2)}=1]
	化简后为：[{(1,1),(2,1),(1,2),(2,2),(3,1),(4,2),(5,2),(5,1),(5,3)}=0
	{(4,3),(6,3),(6,1),(4,1),(5,4),(3,2)}=1]

---
![[Pasted image 20221015214145.png]]
此时已知机器人八邻域为：(5,2),(5,3),(6,3),(6,1),(5,1)
四邻域:(5,2),(6,3),(6,1)
感知环节：
	经过寒意浓度感知h(6,2)=0
	得到命题{(5,2),(5,3),(6,3),(6,1),(5,1)}=0 加入命题表
	
推断环节：
	安全集加入{(5,2),(5,3),(6,3),(6,1),(5,1)} 
	因为是集合，多余的不会重复添加
	危险集 加入 {}
	行动集加入 {(6,3),(6,1)}
行动环节：
	安全移动，行动集如果与安全集有交集
	随机移动，行动集与安全集没有交集，说明安全性未知，冒险向出口行动
	这里有交集，进行安全移动
这里随机选择(6,3)
并将他添加到探索集

	探索集：{(1,1),(2,1),(3,1),(4,1),(4,2),(5,2),(6,2),(6,3)}
	安全集：{(1,1),(2,1),(2,2),(3,2),(3,1),(4,2),(4,1),(5,2),(5,1),(5,3),(6,2),(5,1),(6,3),(6,1)}
	危险集：{(4,3),(6,3),(6,1),(4,1),(5,4),(3,2),(5,3),(4,2)}
	行动集：{(5,1),(6,2)}
	命题列表：[{(1,2),(2,1),(2,2)}=0,{(1,1),(1,2),(2,2),(3,2),(3,1)}=0,
	{(2,1),(2,2),(3,2),(4,2),(4,1)}=0,{(3,1),(3,2),(4,2),(5,2),(5,1)}=0,
	{(3,2),(3,3),(4,3),(5,3),(5,2),(5,1),(4,1),(3,1)}=0,
	{(4,3),(6,3),(6,1),(4,1),(5,4),(3,2)}=1
	{(5,2),(5,3),(6,3),(6,1),(5,1)}=0]
	化简后为：[{(1,1),(2,1),(1,2),(2,2),(3,1),(4,2),(5,2),(5,1),(5,3),(6,3),(6,1)}=0
	{(4,3),(4,1),(5,4),(3,2)}=1]

---
![[Pasted image 20221015214419.png]]
![[Pasted image 20221015214442.png]]
![[Pasted image 20221015214538.png]]
![[Pasted image 20221015214801.png]]

路径：
(2,1)->(3,1)->(4,1)->(4,2)->(5,2)->(6,2)->(6,3)->(6,4)->(6,5)->(6,6)
这是相当理想的情况

---
### 问题二：鬼屋内部有墙壁，设计行动规则，尽可能快速到达并给出机器人成功到达出口过程的两条路线，评估到达目的地的成功率和平均时间？
![[Pasted image 20221015215629.png]]

我们使用启发式函数的方式，我们设置启发式函数为**曼哈顿距离**

此时已知机器人邻域为：(1,2),(2,1),(2,2)
感知环节：
	经过寒意浓度感知h(1,1)=0
	得到命题{(1,2),(2,1),(2,2)}=0 加入命题列表
推断环节：
	安全集加入{(1,2),(2,1),(2,2)}
	危险集不变
	行动集加入 {(1,2),(2,1)}
行动环节：
	安全移动，行动集如果与安全集有交集
	随机移动，行动集与安全集没有交集，说明安全性未知，冒险向出口行动
	这里有交集，进行安全移动
这里随机选择(2,1)
并将他添加到探索集

	探索集：{(1,1),(2,1)}
	安全集：{(1,1),(2,1),(2,2)}
	危险集：{}
	行动集：{(1,2),(2,1)}
	命题列表：[{(1,2),(2,1),(2,2)}=0]


---
![[Pasted image 20221015212527.png]]
此时已知机器人八邻域为：(1,1),(2,1),(2,2),(3,2),(3,1)
四邻域:(1,1),(2,2),(3,1)
感知环节：
	经过寒意浓度感知h(2,1)=0
	得到命题{(1,1),(1,2),(2,2),(3,2),(3,1)}=0 加入命题列表
推断环节：
	安全集加入{(1,1),(2,1),(2,2),(3,2),(3,1)} 因为是集合，多余的不会重复添加
	危险集不变
	行动集加入 {(2,2),(3,1)}
行动环节：
	安全移动，行动集如果与安全集有交集
	随机移动，行动集与安全集没有交集，说明安全性未知，冒险向出口行动
	这里有交集，进行安全移动
这里随机选择(3,1)
并将他添加到探索集

	探索集：{(1,1),(2,1),(3,1)}
	安全集：{(1,1),(2,1),(2,2),(3,2),(3,1)}
	危险集：{}
	行动集：{(2,2),(3,1)}
	命题列表：[{(1,2),(2,1),(2,2)}=0,{(1,1),(1,2),(2,2),(3,2),(3,1)}=0]
	化简后为：[{(1,1),(2,1),(1,2),(2,2),(3,2),(3,1)}=0]

---
![[Pasted image 20221015220643.png]]
此时已知机器人八邻域为：(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2)
四邻域:(1,2),(2,3),(3,2),(2,1)
感知环节：
	经过寒意浓度感知h(2,2)=0
	得到命题{(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2)}=0 加入命题列表
推断环节：
	安全集加入{(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2)} 因为是集合，多余的不会重复添加
	危险集不变
	行动集加入 {(1,2),(2,3),(3,2)}
行动环节：
	安全移动，行动集如果与安全集有交集
	随机移动，行动集与安全集没有交集，说明安全性未知，冒险向出口行动
	这里有交集，进行安全移动
这里随机选择(2,3)
并将他添加到探索集

	探索集：{(1,1),(2,1),(2,3)}
	安全集：{(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2)}
	危险集：{}
	行动集：{(1,2),(2,3),(3,2)}
	命题列表：[{(1,2),(2,1),(2,2)}=0,{(1,1),(1,2),(2,2),(3,2),(3,1)}=0,
	{(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2)}=0]
	化简后为：[{(1,1),(2,1),(1,2),(2,2),(3,2),(3,1),(3,3),(2,3)}=0]

---
![[Pasted image 20221015221029.png]]
此时已知机器人八邻域为：(1,3),(2,3),(3,3),(2,2),(1,2),(1,4),(2,4),(3,4)
四邻域:(1,3),(2,4),(3,3),(2,2)
感知环节：
	经过寒意浓度感知h(2,3)=0
	得到命题{(1,3),(2,3),(3,3),(2,2),(1,2),(1,4),(2,4),(3,4)}=0 加入命题列表
推断环节：
	安全集加入{(1,3),(2,3),(3,3),(2,2),(1,2),(1,4),(2,4),(3,4)} 因为是集合，多余的不会重复添加
	危险集不变
	行动集加入 {(1,3),(2,4),(3,3)}
行动环节：
	安全移动，行动集如果与安全集有交集
	随机移动，行动集与安全集没有交集，说明安全性未知，冒险向出口行动
	这里有交集，进行安全移动
这里随机选择(3,3)
并将他添加到探索集

	探索集：{(1,1),(2,1),(2,3),(3,3)}
	安全集：{(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2),(1,3),(1,4),(2,4),(3,4)}
	危险集：{}
	行动集：{(1,3),(2,4),(3,3)}
	命题列表：[{(1,2),(2,1),(2,2)}=0,{(1,1),(1,2),(2,2),(3,2),(3,1)}=0,
	{(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2)}=0,
	{(1,3),(2,3),(3,3),(2,2),(1,2),(1,4),(2,4),(3,4)}=0]
	化简后为：[{(1,1),(2,1),(1,2),(2,2),(3,2),(3,1),(3,3),(2,3),(1,4),(2,4),(3,4)}=0]

---
![[Pasted image 20221015221200.png]]
此时已知机器人八邻域为：(2,3),(2,4),(3,4),(4,4),(4,3),(4,2),(3,2),(2,2)
四邻域:(2,3),(3,4),(4,3),(2,2)
感知环节：
	经过寒意浓度感知h(3,3)=0
	得到命题{(2,3),(2,4),(3,4),(4,4),(4,3),(4,2),(3,2),(2,2)}=0 加入命题列表
推断环节：
	安全集加入{(2,3),(2,4),(3,4),(4,4),(4,3),(4,2),(3,2),(2,2)} 因为是集合，多余的不会重复添加
	危险集不变
	注意存在围墙，行动集不得加入有围墙存在的单元格
	行动集加入 {(3,4)}
行动环节：
	安全移动，行动集如果与安全集有交集
	随机移动，行动集与安全集没有交集，说明安全性未知，冒险向出口行动
	这里有交集，进行安全移动
这里随机选择(3,4)
并将他添加到探索集

	探索集：{(1,1),(2,1),(2,3),(3,3),(3,4)}
	安全集：{(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2),(1,3),(1,4),(2,4),(3,4),(4,4),(4,3),(4,2)}
	危险集：{}
	行动集：{(3,4)}
	命题列表：[{(1,2),(2,1),(2,2)}=0,{(1,1),(1,2),(2,2),(3,2),(3,1)}=0,
	{(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2)}=0,
	{(1,3),(2,3),(3,3),(2,2),(1,2),(1,4),(2,4),(3,4)}=0,
	{(2,3),(2,4),(3,4),(4,4),(4,3),(4,2),(3,2),(2,2)}=0]
	化简后为：[{(1,1),(2,1),(1,2),(2,2),(3,2),(3,1),(3,3),(2,3),(1,4),(2,4),(3,4),(4,4),(4,3),(4,2)}=0]

---
![[Pasted image 20221015221412.png]]
此时已知机器人八邻域为：(3,3),(3,4),(4,4),(5,4),(5,3),(5,2),(4,2),(3,2)
四邻域:(3,3),(4,4),(5,3),(4,2)
感知环节：
	经过寒意浓度感知h(4,3)=1
	得到命题{(3,4),(5,4),(5,2),(3,2),(4,5),(6,3),(2,3),(4,1)}=1 加入命题列表
推断环节：
	安全集加入{} 减去危险集 因为是集合，多余的不会重复添加
	危险集 加入{(3,4),(5,4),(5,2),(3,2),(3,3),(4,4),(5,3),(4,2)}
	注意存在围墙，行动集不得加入有围墙存在的单元格
	行动集加入 {}
行动环节：
	安全移动，行动集如果与安全集有交集
	随机移动，行动集与安全集没有交集，说明安全性未知，冒险向出口行动
	这里无交集，进行随机移动 获取四邻域减去探索集得到
	{(4,4),(5,3),(4,2)} 选择与出口曼哈顿距离最小的
这里随机选择(5,3)
并将他添加到探索集

	探索集：{(1,1),(2,1),(2,3),(3,3),(3,4),(5,3)}
	安全集：{(1,1),(2,1),(2,2),(3,1),(2,3),(1,2),(1,3),(1,4),(2,4),(4,3)}
	危险集：{(3,4),(5,4),(5,2),(3,2),(3,3),(4,4),(5,3),(4,2)}
	行动集：{}
	命题列表：[{(1,2),(2,1),(2,2)}=0,{(1,1),(1,2),(2,2),(3,2),(3,1)}=0,
	{(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2)}=0,
	{(1,3),(2,3),(3,3),(2,2),(1,2),(1,4),(2,4),(3,4)}=0,
	{(2,3),(2,4),(3,4),(4,4),(4,3),(4,2),(3,2),(2,2)}=0，
	{(3,4),(5,4),(5,2),(3,2),(4,5),(6,3),(2,3),(4,1)}=1]
	化简后为：[{(1,1),(2,1),(1,2),(2,2),(3,1),(3,3),(1,4),(2,4),(4,4),(4,3),(4,2)}=0,{(3,4),(5,4),(5,2),(3,2),(4,5),(6,3),(2,3),(4,1)}=1]
---
![[Pasted image 20221015221605.png]]
此时已知机器人八邻域为：(4,3),(4,4),(5,4),(6,4),(6,3),(6,2),(5,2),(4,2)
四邻域:(4,3),(5,4),(6,3),(5,2)
感知环节：
	经过寒意浓度感知h(5,3)=1
	得到命题{(4,4),(6,4),(4,2),(6,2),(3,3),(5,5),(5,1)}=1 加入命题列表
推断环节：
	安全集加入{} 减去危险集 因为是集合，多余的不会重复添加
	危险集 加入{(4,4),(6,4),(4,2),(6,2),(3,3),(5,5),(5,1)}
	注意存在围墙，行动集不得加入有围墙存在的单元格
	行动集加入 {}
行动环节：
	安全移动，行动集如果与安全集有交集
	随机移动，行动集与安全集没有交集，说明安全性未知，冒险向出口行动
	这里无交集，进行随机移动 获取四邻域减去探索集得到
	{(4,3),(6,3),(5,2)} 选择与出口曼哈顿距离最小的
这里随机选择(6,3)
并将他添加到探索集

	探索集：{(1,1),(2,1),(2,3),(3,3),(3,4),(5,3),(6,3)}
	安全集：{(1,1),(2,1),(2,2),(3,1),(2,3),(1,2),(1,3),(1,4),(2,4)}
	危险集：{(4,4),(6,4),(4,2),(6,2),(3,3),(5,5),(5,1)}
	行动集：{}
	命题列表：[{(1,2),(2,1),(2,2)}=0,{(1,1),(1,2),(2,2),(3,2),(3,1)}=0,
	{(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2)}=0,
	{(1,3),(2,3),(3,3),(2,2),(1,2),(1,4),(2,4),(3,4)}=0,
	{(2,3),(2,4),(3,4),(4,4),(4,3),(4,2),(3,2),(2,2)}=0，
	{(3,4),(5,4),(5,2),(3,2),(4,5),(6,3),(2,3),(4,1)}=1,
	{(4,4),(6,4),(4,2),(6,2),(3,3),(5,5),(5,1)}=1]
	化简后为：[{(1,1),(2,1),(1,2),(2,2),(3,1),(3,3),(1,4),(2,4),(4,3),(4,2)}=0,{(3,4),(5,4),(5,2),(3,2),(4,5),(6,3),(2,3),(4,1),(4,4),(6,4),(4,2),(6,2),(3,3),(5,5),(5,1)}=1]

---
![[Pasted image 20221015221820.png]]
此时已知机器人八邻域为：(5,3),(5,4),(6,4),(6,2),(5,2)
四邻域:(5,3),(6,4),(6,2)
感知环节：
	经过寒意浓度感知h(6,3)=0
	得到命题{(5,3),(5,4),(6,4),(6,2),(5,2)}=0 加入命题列表
推断环节：
	安全集加入{(5,3),(5,4),(6,4),(6,2),(5,2)} 减去危险集 因为是集合，多余的不会重复添加
	危险集 加入{} 减去安全集
	注意存在围墙，行动集不得加入有围墙存在的单元格
	行动集加入 {(5,3),(6,4),(6,2)}
行动环节：
	安全移动，行动集如果与安全集有交集
	随机移动，行动集与安全集没有交集，说明安全性未知，冒险向出口行动
	这里有交集，进行安全移动 
这里选择(6,4)
并将他添加到探索集

	探索集：{(1,1),(2,1),(2,3),(3,3),(3,4),(5,3),(6,3),(6,4)}
	安全集：{(1,1),(2,1),(2,2),(3,1),(2,3),(1,2),(1,3),(1,4),(2,4),(5,3),(5,4),(6,4),(6,2),(5,2)}
	危险集：{(4,4),(4,2),(3,3),(5,5),(5,1)}
	行动集：{(5,3),(6,4),(6,2)}
	命题列表：[{(1,2),(2,1),(2,2)}=0,{(1,1),(1,2),(2,2),(3,2),(3,1)}=0,
	{(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2)}=0,
	{(1,3),(2,3),(3,3),(2,2),(1,2),(1,4),(2,4),(3,4)}=0,
	{(2,3),(2,4),(3,4),(4,4),(4,3),(4,2),(3,2),(2,2)}=0，
	{(3,4),(5,4),(5,2),(3,2),(4,5),(6,3),(2,3),(4,1)}=1,
	{(4,4),(6,4),(4,2),(6,2),(3,3),(5,5),(5,1)}=1,
	{(5,3),(5,4),(6,4),(6,2),(5,2)}=0]
	化简后为：[{(1,1),(2,1),(1,2),(2,2),(3,1),(3,3),(1,4),(2,4),(4,3),(4,2),(5,3),(5,4),(6,4),(6,2),(5,2)}=0,
	{(3,4),(3,2),(4,5),(6,3),(2,3),(4,1),(4,4),(4,2),(3,3),(5,5),(5,1)}=1]

---
此后与问题一情况一样，在启发式函数的引导下，路径更加清晰
路线：
(2,1)->(2,2)->(2,3)->(3,3)->(4,3)->(5,3)->(6,3)->(6,4)->(6,5)->(6,6)



---
另一条分析方法与这一条相似
从这里开始
![[Pasted image 20221015220643.png]]
此时已知机器人八邻域为：(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2)
四邻域:(1,2),(2,3),(3,2),(2,1)
感知环节：
	经过寒意浓度感知h(2,2)=0
	得到命题{(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2)}=0 加入命题列表
推断环节：
	安全集加入{(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2)} 因为是集合，多余的不会重复添加
	危险集不变
	行动集加入 {(1,2),(2,3),(3,2)}
行动环节：
	安全移动，行动集如果与安全集有交集
	随机移动，行动集与安全集没有交集，说明安全性未知，冒险向出口行动
	这里有交集，进行安全移动
这里随机选择(3,2)
并将他添加到探索集

	探索集：{(1,1),(2,1),(3,2)}
	安全集：{(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2)}
	危险集：{}
	行动集：{(1,2),(2,3),(3,2)}
	命题列表：[{(1,2),(2,1),(2,2)}=0,{(1,1),(1,2),(2,2),(3,2),(3,1)}=0,
	{(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2)}=0]
	化简后为：[{(1,1),(2,1),(1,2),(2,2),(3,2),(3,1),(3,3),(2,3)}=0]

---
![[Pasted image 20221015223057.png]]
此时已知机器人八邻域为：(2,2),(2,3),(3,3),(4,3),(4,2),(4,1),(3,1),(2,1)
四邻域:(2,2),(3,3),(4,2),(3,1)
感知环节：
	经过寒意浓度感知h(3,2)=0
	得到命题{(2,2),(2,3),(3,3),(4,3),(4,2),(4,1),(3,1),(2,1)}=0 加入命题列表
推断环节：
	安全集加入{(2,2),(2,3),(3,3),(4,3),(4,2),(4,1),(3,1),(2,1)} 因为是集合，多余的不会重复添加
	危险集不变
	行动集加入 {(4,2),(3,1)}
行动环节：
	安全移动，行动集如果与安全集有交集
	随机移动，行动集与安全集没有交集，说明安全性未知，冒险向出口行动
	这里有交集，进行安全移动
这里随机选择(4,2)
并将他添加到探索集

	探索集：{(1,1),(2,1),(3,2),(4,2)}
	安全集：{(1,1),(2,2),(3,2),(3,3),(2,3),(1,2),(2,3),(3,3),(4,3),(4,2),(4,1),(3,1),(2,1)}
	危险集：{}
	行动集：{(4,2),(3,1)}
	命题列表：[{(1,2),(2,1),(2,2)}=0,{(1,1),(1,2),(2,2),(3,2),(3,1)}=0,
	{(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2)}=0,
	{(2,2),(2,3),(3,3),(4,3),(4,2),(4,1),(3,1),(2,1)}=0]
	化简后为：[{(1,1),(1,2),(3,2),(2,2),(2,3),(3,3),(4,3),(4,2),(4,1),(3,1),(2,1)}=0]

---
![[Pasted image 20221015223242.png]]
此时已知机器人八邻域为：(3,2),(3,3),(4,3),(5,3),(5,2),(5,1),(4,1),(3,1)
四邻域:(3,2),(4,3),(5,2),(4,1)
感知环节：
	经过寒意浓度感知h(4,2)=0
	得到命题{(3,2),(3,3),(4,3),(5,3),(5,2),(5,1),(4,1),(3,1)}=0 加入命题列表
推断环节：
	安全集加入{(3,2),(3,3),(4,3),(5,3),(5,2),(5,1),(4,1),(3,1)} 因为是集合，多余的不会重复添加
	危险集不变
	行动集加入 {(4,3),(4,1)}
行动环节：
	安全移动，行动集如果与安全集有交集
	随机移动，行动集与安全集没有交集，说明安全性未知，冒险向出口行动
	这里有交集，进行安全移动
这里随机选择(4,3)
并将他添加到探索集

	探索集：{(1,1),(2,1),(3,2),(4,2),(4,3)}
	安全集：{(1,1),(2,2),(2,3),(1,2),(4,2),(2,1),(3,2),(3,3),(4,3),(5,3),(5,2),(5,1),(4,1),(3,1)}
	危险集：{}
	行动集：{(4,3),(4,1)}
	命题列表：[{(1,2),(2,1),(2,2)}=0,{(1,1),(1,2),(2,2),(3,2),(3,1)}=0,
	{(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2)}=0,
	{(2,2),(2,3),(3,3),(4,3),(4,2),(4,1),(3,1),(2,1)}=0,
	{(3,2),(3,3),(4,3),(5,3),(5,2),(5,1),(4,1),(3,1)}=0]
	化简后为：[{(1,1),(2,2),(2,3),(1,2),(2,3),(4,2),(2,1),(3,2),(3,3),(4,3),(5,3),(5,2),(5,1),(4,1),(3,1)}=0]

---
![[Pasted image 20221015223421.png]]
此时已知机器人八邻域为：(3,3),(3,4),(4,4),(5,4),(5,3),(5,2),(4,2),(3,2)
四邻域:(3,3),(4,4),(5,3),(4,2)
	经过寒意浓度感知h(4,3)=1
	得到命题{(3,4),(5,4),(5,2),(3,2),(4,5),(6,3),(2,3),(4,1)}=1 加入命题列表
推断环节：
	安全集加入{} 减去危险集 因为是集合，多余的不会重复添加
	危险集 加入{(3,4),(5,4),(5,2),(3,2),(3,3),(4,4),(5,3),(4,2)}
	注意存在围墙，行动集不得加入有围墙存在的单元格
	行动集加入 {}
行动环节：
	安全移动，行动集如果与安全集有交集
	随机移动，行动集与安全集没有交集，说明安全性未知，冒险向出口行动
	这里无交集，进行随机移动 获取四邻域减去探索集得到
	{(4,4),(5,3),(4,2)} 选择与出口曼哈顿距离最小的
这里随机选择(5,3)
并将他添加到探索集

	探索集：{(1,1),(2,1),(3,2),(4,2),(4,3),(5,3)}
	安全集：{(1,1),(2,2),(2,3),(1,2),(4,2),(2,1),(3,3),(4,3),(5,3),(5,2),(5,1),(3,1)}
	危险集：{(3,4),(5,4),(5,2),(3,2),(3,3),(4,4),(5,3),(4,2)}
	行动集：{}
	命题列表：[{(1,2),(2,1),(2,2)}=0,{(1,1),(1,2),(2,2),(3,2),(3,1)}=0,
	{(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2)}=0,
	{(2,2),(2,3),(3,3),(4,3),(4,2),(4,1),(3,1),(2,1)}=0,
	{(3,2),(3,3),(4,3),(5,3),(5,2),(5,1),(4,1),(3,1)}=0,
	{(3,4),(5,4),(5,2),(3,2),(4,5),(6,3),(2,3),(4,1)}=1]
	化简后为：[{(1,1),(2,2),(1,2),(4,2),(2,1),(3,2),(3,3),(4,3),(5,3),(5,1),(3,1)}=0,
	{(3,4),(5,4),(5,2),(3,2),(4,5),(6,3),(2,3),(4,1)}=1]

----
![[Pasted image 20221015223855.png]]
此时已知机器人八邻域为：(4,3),(4,4),(5,4),(6,4),(6,3),(6,2),(5,2),(4,2)
四邻域:(4,3),(5,4),(6,3),(5,2)
	经过寒意浓度感知h(4,3)=1
	得到命题{(4,4),(6,4),(4,2),(6,2),(3,3),(5,5),(5,1)}=1 加入命题列表
推断环节：
	安全集加入{} 减去危险集 因为是集合，多余的不会重复添加
	危险集 加入{(4,4),(6,4),(4,2),(6,2),(3,3),(5,5),(5,1)}
	注意存在围墙，行动集不得加入有围墙存在的单元格
	行动集加入 {}
行动环节：
	安全移动，行动集如果与安全集有交集
	随机移动，行动集与安全集没有交集，说明安全性未知，冒险向出口行动
	这里无交集，进行随机移动 获取四邻域减去探索集得到
	{(6,3),(5,2)} 选择与出口曼哈顿距离最小的
这里随机选择(6,3)
并将他添加到探索集

	探索集：{(1,1),(2,1),(3,2),(4,2),(4,3),(5,3),(6,3)}
	安全集：{(1,1),(2,2),(2,3),(1,2),(2,1),(4,3),(5,3),(5,2),(3,1)}
	危险集：{(3,4),(5,4),(5,2),(3,2),(5,3),(4,4),(6,4),(4,2),(6,2),(3,3),(5,5),(5,1)}
	行动集：{}
	命题列表：[{(1,2),(2,1),(2,2)}=0,{(1,1),(1,2),(2,2),(3,2),(3,1)}=0,
	{(1,1),(2,1),(2,2),(3,2),(3,1),(3,3),(2,3),(1,2)}=0,
	{(2,2),(2,3),(3,3),(4,3),(4,2),(4,1),(3,1),(2,1)}=0,
	{(3,2),(3,3),(4,3),(5,3),(5,2),(5,1),(4,1),(3,1)}=0,
	{(3,4),(5,4),(5,2),(3,2),(4,5),(6,3),(2,3),(4,1)}=1,
	{(4,4),(6,4),(4,2),(6,2),(3,3),(5,5),(5,1)}=1]
	化简后为：[{(1,1),(2,2),(1,2),(4,2),(2,1),(3,2),(4,3),(5,3),(3,1)}=0,
	{(3,4),(5,4),(5,2),(3,2),(4,5),(6,3),(2,3),(4,1),(4,4),(6,4),(4,2),(6,2),(3,3),(5,5),(5,1)}=1]

---
此后与上一条路线一致
(1,2)->(2,2)->(3,2)->(4,2)->(4,3)->(5,3)->(6,3)->(6,4)->(6,5)->(6,6)

#### 评估
**至此两条路线走完，由于编程上的欠缺，AB两问题我写出了太多bug，以至于不得不使用半成品靠文字演示，在两次路径模拟中，机器人都按照知识库做了相对好的选择**

**测试的几条线路，成功的路线几乎都走了下半条路，10步到达了终点。
当然，这是幽灵被随机到我指定的位置而得到的情况，正常情况下，会有更多线路**

我推测成功率应该在50%之上，平均步数应该在11步左右(因为启发式函数的指引，很难有绕远路的情况发生，上半条路比较远，需要12步左右，下半条不出意外的话10步即可)
回合数会根据幽灵刷新的位置有变化

---

### 问题三：假设机器人预先知道所有墙壁位置以及幽灵初始位置和初始方向，请设计一个搜索算法找到最快路径？

![[Pasted image 20221015230017.png]]
最短路径已经很明显了，根据曼哈顿距离，最短距离就为10步。
最快路径就需要考虑幽灵的位置。
红线到达从纵向“幽灵走廊”需要5步，蓝线到达纵向“幽灵走廊”需要4步，我们已知幽灵的出发路线和方向之后，就可以尽可能选择这两条路，因为可以等待，所以绕远路反而不划算。
**我们先考虑纵向幽灵的出现位置和方向，对路径选择的影响而暂时不管横向幽灵**
![[Pasted image 20221015231002.png]]
上图是幽灵朝下运动会和蓝线相遇的情况
![[Pasted image 20221016092200.png]]
上图是幽灵向上运动与蓝线相遇的情况
![[Pasted image 20221016092404.png]]
在这个位置生成的幽灵如果向上向下都会与红线相遇，很神奇的是他们都在同一个位置

---
![[Pasted image 20221016091143.png]]
横向行动的幽灵如果要接触两根线，只能生成在如图(4,4)位置向左移动
因此 如果想让机器人走这两条路线，随机到的幽灵位置方向应该不在上述位置方向
反之，如果满足就都能通过这两条线通过 
(横向移动不生成在(4,4)向左)∧(纵向移动不生成在(4,4)与(4,6)∨纵向移动不生成在(4,4))

我们进一步处理通过不了的情况：
所有红线无法通过的情况化简得到：(1)∨(2)
**1）(4,4)向左
2)(4,4)向上和下


所有蓝线无法通过的情况化简得到：(1)∨(2)∨(3)
**1）(4,4)向左
2)(4,4)向上和下
3)(4,6)向上和下

所有红蓝线无法通过的情况化简得到：(1)∨(2)
**1）(4,4)向左
2)(4,4)向上和下**

所以机器人行动规则应该为：
一开始检测两个幽灵位置：
如果横向幽灵在(4,4)向左或者纵向幽灵在(4,4)：停止一回合
如果纵向幽灵在(4,6):选择红线
否则选择蓝线或者红线都能到达终点




---
#### 然而上面好像不算搜索算法，只能算人为路径规划
或者还有一种思路：
见文件夹Question3
在启发式函数仍然为曼哈顿路径的前提下，
为机器人增加一个预测函数：
行动逻辑伪代码如下：
>> 把前沿队列按照曼哈顿距离升序，弹出第一个
>> 如果第一个的坐标是幽灵行动的下一个坐标，就停止一轮行动
>> 清空前沿队列

根据搜索效果来看，启发式函数可以自发带领机器人选择蓝线或者红线，
所以不需要人为规划，我们只需要在合适的地方不行动，躲开幽灵即可。

这样就可以在保证安全的前提下快速到达终点，距离为10步，使用了11个回合到达
路线可能为红线或者蓝线